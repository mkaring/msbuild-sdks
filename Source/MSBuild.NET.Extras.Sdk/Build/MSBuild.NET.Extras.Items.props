<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

	<PropertyGroup>
		<MSBuildAllProjects>$(MSBuildAllProjects);$(MSBuildThisFileFullPath)</MSBuildAllProjects>
	</PropertyGroup>

	<ItemDefinitionGroup>
		<Compile>
			<SubType>Code</SubType>
		</Compile>
		<EmbeddedResource>
			<SubType>Designer</SubType>
			<Generator>MSBuild:Compile</Generator>
		</EmbeddedResource>
		<Page>
			<SubType>Designer</SubType>
			<Generator>MSBuild:Compile</Generator>
		</Page>
		<Resource>
			<SubType>Designer</SubType>
			<Generator>MSBuild:Compile</Generator>
		</Resource>
		<ApplicationDefinition>
			<SubType>Designer</SubType>
			<Generator>MSBuild:Compile</Generator>
		</ApplicationDefinition>
	</ItemDefinitionGroup>

	<ItemDefinitionGroup Condition="'$(EnableEmbeddedResourceGenerator)' == 'true'">
		<EmbeddedResource>
			<Generator Condition="'$(EmbeddedResourceGeneratedCodeIsPublic)' != 'true'">ResXFileCodeGenerator</Generator>
			<Generator Condition="'$(EmbeddedResourceGeneratedCodeIsPublic)' == 'true'">PublicResXFileCodeGenerator</Generator>
		</EmbeddedResource>
	</ItemDefinitionGroup>

	<ItemGroup Condition="'$(EnableDefaultEmbeddedResourceItems)' == 'true' AND '$(EnableEmbeddedResourceGenerator)' == 'true'">
		<EmbeddedResource Update="**/*.resx">
			<LastGenOutput>%(Filename)$(DefaultDesignerFileSuffix)$(DefaultLanguageSourceExtension)</LastGenOutput>
			<LastGenOutputFile>%(RecursiveDir)%(Filename)$(DefaultDesignerFileSuffix)$(DefaultLanguageSourceExtension)</LastGenOutputFile>
		</EmbeddedResource>
		<Compile Update="@(EmbeddedResource->'%(LastGenOutputFile)')">
			<AutoGen>true</AutoGen>
			<DesignTime>true</DesignTime>
			<DependentUpon>$([MSBuild]::ValueOrDefault('%(Filename)', '').Replace('$(DefaultDesignerFileSuffix)', '.resx'))</DependentUpon>
		</Compile>
	</ItemGroup>

	<ItemGroup Condition="'$(EnableDefaultPageItems)' == 'true'">
		<None Remove="**/*.xaml"/>
		<Page Include="**/*.xaml" Exclude="$(DefaultItemExcludes);$(DefaultExcludesInProjectFolder);$(DefaultPageExcludes)"/>
		<Compile Update="**/*.xaml$(DefaultLanguageSourceExtension)">
			<DependentUpon>$([MSBuild]::ValueOrDefault('%(Filename)', '')</DependentUpon>
		</Compile>
	</ItemGroup>

	<ItemGroup Condition="'$(EnableDefaultResourceItems)' == 'true'">
		<None Remove="$(DefaultResourceIncludes)" Condition="'$(EnableDefaultPageItems)' != 'true'"/>
		<Resource Include="$(DefaultResourceIncludes)" Exclude="$(DefaultItemExcludes);$(DefaultExcludesInProjectFolder);$(DefaultResourceExcludes)"/>
	</ItemGroup>

	<ItemGroup Condition="'$(EnableDefaultPageItems)' == 'true' AND Exists('$(ApplicationDefinitionFile)')">
		<None Remove="$(ApplicationDefinitionFile)"/>
		<ApplicationDefinition Include="$(ApplicationDefinitionFile)"/>
	</ItemGroup>

	<!-- Include the default platform packages  -->
	<!-- TODO: use metadata to detect if we've added it or it already exists -->

	<ItemGroup Condition="'$(DisableImplicitFrameworkReferences)' != 'true' AND '$(TargetFrameworkIdentifier)' == '.NETCore'">
		<PackageReference Include="Microsoft.NETCore.UniversalWindowsPlatform" Version="6.0.*" IsImplicitlyDefined="true"/>
		<PackageReference Update="Microsoft.NETCore.UniversalWindowsPlatform" PrivateAssets="All" Publish="false"
			Condition="'$(OutputType)' != 'Exe' OR '$(OutputType)' != 'AppContainerExe'"/>
	</ItemGroup>

	<ItemGroup Condition="'$(DisableImplicitFrameworkReferences)' != 'true' AND '$(TargetFrameworkIdentifier)' == 'Tizen'">
		<PackageReference Include="Tizen.NET" Version="4.0.*" IsImplicitlyDefined="true"/>
		<PackageReference Update="Tizen.NET" PrivateAssets="All" Publish="false" Condition="'$(OutputType)' != 'Exe'"/>
	</ItemGroup>

</Project>